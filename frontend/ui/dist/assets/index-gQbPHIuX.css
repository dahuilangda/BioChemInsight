.structure-editor{display:flex;flex-direction:column;gap:12px;flex:1 1 auto;overflow:auto}.structure-editor--inline{min-height:0;flex:1 1 auto}.floating-panel--structure{padding:18px 22px 22px;min-width:min(980px,calc(100vw - 64px));min-height:min(700px,calc(100vh - 96px));max-height:calc(100vh - 48px);overflow:hidden;resize:both}.floating-panel__body--structure{display:flex;flex-direction:column;gap:16px;flex:1 1 auto;overflow:hidden}.structure-editor__editor-wrapper{position:relative;flex:1 1 auto;min-height:420px;border:1px solid #cbd5f5;border-radius:14px;overflow:hidden;background:#f8fafc}.structure-editor__editor-wrapper--inline{min-height:320px}.structure-editor__editor-host{position:relative;height:100%;min-height:inherit;width:100%}.structure-editor__overlay{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;background:#f8fafcf5;color:#334155;font-size:14px;z-index:5}.structure-editor__error{color:#b91c1c;background:#fee2e2;border-radius:8px;padding:10px 12px;font-size:13px}@media (max-width: 1100px){.structure-editor__editor-wrapper{min-height:360px}}.inline-editor__actions{display:flex;gap:12px;flex-wrap:wrap}:root{color-scheme:light;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;line-height:1.5;font-weight:400;color:#1f2933;background-color:#f5f7fb}*{box-sizing:border-box}body{margin:0}a{color:inherit;text-decoration:none}button{cursor:pointer}input,textarea,select,button{font-family:inherit}.container{width:100%;max-width:100%;margin:0 auto;padding:24px 24px 64px}.content-stack{display:flex;flex-direction:column;gap:24px}.step-nav{display:flex;align-items:center;gap:12px;margin-bottom:24px;flex-wrap:wrap;padding:12px 16px;background:#fff;border:1px solid #e5e9f2;border-radius:10px;box-shadow:0 1px 6px #0f172a0f}.step-nav__button{display:flex;align-items:center;gap:10px;background:#fff;border:1px solid #d5dbe7;border-radius:999px;cursor:pointer;padding:8px 14px;transition:background .2s ease,border-color .2s ease,box-shadow .2s ease}.step-nav__button:disabled{cursor:not-allowed;opacity:.55}.step-nav__button:not(:disabled):hover{border-color:#8289f7;box-shadow:0 4px 12px #4338ca29}.step-nav__icon{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:#4338ca1f;color:#4338ca}.step-nav__icon-glyph{width:16px;height:16px;display:block}.step-nav__button.active .step-nav__icon{background:#4338ca33;color:#312e81}.step-nav__button.completed .step-nav__icon{background:#4338ca29;color:#3730a3}.step-nav__text{display:flex;flex-direction:column;align-items:flex-start;gap:2px}.step-nav__step{font-size:12px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.02em}.step-nav__label{font-weight:600;color:#475569}.step-nav__button.active .step-nav__label{color:#312e81}.step-nav__button.active .step-nav__step{color:#4338ca}.step-nav__button.completed .step-nav__step{color:#3730a3}.step-nav__button.active{background:#4338ca1a;border-color:#6f76f1;box-shadow:0 6px 16px #4338ca38}.step-nav__button.completed .step-nav__label{color:#3730a3}.step-nav__button.completed{background:#4338ca14;border-color:#4338ca47}.step-nav__connector{width:42px;height:2px;border-radius:999px;background:#e2e8f0}.step-nav__connector.active{background:linear-gradient(90deg,#1d4ed8,#1e88e5)}@media (max-width: 1024px){.container{padding:24px 20px 48px}.step-nav{justify-content:center}}section{background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 10px #0f172a0f;border:1px solid rgba(79,70,229,.12)}section h2{margin-top:0;margin-bottom:12px}input[type=text],input[type=number],textarea{width:100%;padding:10px 12px;border-radius:8px;border:1px solid #d3dae6;background:#fbfcff}button.primary{background:#4338ca;border:none;color:#fff;padding:10px 18px;border-radius:8px;font-weight:600;transition:background .15s ease,box-shadow .15s ease}button.primary:hover{box-shadow:0 8px 18px #4338ca47}button.primary:disabled{background:#a5b4fc;box-shadow:none}button.primary.structure-action,button.primary.assay-action{background:#4338ca}button.secondary{background:transparent;border:1px solid #d0d6e1;color:#1f2937;padding:10px 18px;border-radius:8px;font-weight:600}.grid{display:grid;gap:12px}.grid.preview-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.preview-card{position:relative;border-radius:10px;overflow:hidden;background:#0f172a;color:#fff}.preview-card img{display:block;width:100%;height:auto}.preview-card span{position:absolute;top:8px;right:12px;font-weight:600;background:#0f172aa6;padding:4px 8px;border-radius:999px}.table-wrapper{--review-row-height: 160px;width:100%;padding:20px;background:#fff;border-radius:16px;border:1px solid rgba(148,163,184,.16);box-shadow:0 12px 28px #0f172a14;margin-top:16px}.table-controls{display:flex;align-items:center;gap:12px;flex-wrap:wrap;justify-content:flex-end;margin-top:20px;margin-bottom:8px}.table-controls__item{display:inline-flex;align-items:center;gap:10px;font-size:13px;color:#475569}.table-controls__label{font-weight:600}.table-controls__item input[type=range]{width:160px;accent-color:#6366f1}.table-controls__value{font-variant-numeric:tabular-nums;color:#1f2937;font-weight:500}.table-wrapper table{width:100%;min-width:780px;border-collapse:collapse;table-layout:auto}.review-table{border-collapse:separate;border-spacing:0}.review-table thead th{position:sticky;top:0;z-index:8;background:#f3f4ff;box-shadow:inset 0 -1px #94a3b866}.review-table thead tr{position:relative;z-index:8}.table-wrapper thead{background:#f3f4ff}.table-wrapper th,.table-wrapper td{padding:12px 14px;border-bottom:1px solid #e2e8f0;text-align:left;vertical-align:top}.table-wrapper tr:hover td{background:#f8fafc}.review-table__cell{background:#fff;transition:background .2s ease}.review-table__cell--page-number{background:#fff;min-width:110px;width:110px;font-size:13px;color:#1f2937}.review-table__cell--preview{background:#fff;min-width:260px;width:260px}.review-table__cell--structure,.review-table__cell--assay{background:#fff}.review-table__cell--id{width:200px;max-width:220px;vertical-align:middle}.review-table__cell--structure input,.review-table__cell--assay input{width:100%;padding:6px 8px;border-radius:6px;border:1px solid rgba(148,163,184,.5);font-size:13px}.page-cell{display:flex;align-items:center;justify-content:center;min-height:var(--review-row-height, 160px)}.page-cell__media{flex:1 1 100%;display:flex;align-items:center;justify-content:center}.page-cell__image{display:block;border:none;padding:0;background:transparent;cursor:zoom-in;display:flex;align-items:center;justify-content:center;width:100%}.page-cell__image img{display:block;width:100%;height:var(--review-row-height, 160px);object-fit:contain;border-radius:12px}.page-cell__placeholder{width:100%;height:var(--review-row-height, 160px);border-radius:12px;border:0;background:#f1f5f9;display:flex;align-items:center;justify-content:center;font-size:13px;color:#94a3b8}.structure-image-btn{border:none;padding:0;background:transparent;cursor:zoom-in;display:inline-flex;align-items:center;justify-content:center;width:100%;max-width:240px}.structure-image-btn img{display:block;height:var(--review-row-height, 160px);max-height:var(--review-row-height, 160px);width:auto;max-width:100%;border-radius:12px;box-shadow:0 10px 24px #0f172a24;background:#fff}.page-cell__id-input{width:100%;padding:6px 10px;border-radius:8px;border:1px solid rgba(67,56,202,.35);font-weight:600;color:#1f2937;background:#fff}.page-cell__id-input:disabled{background:#f1f5f9;color:#94a3b8;cursor:not-allowed;border-color:#94a3b859}.page-number{display:flex;flex-direction:column;gap:6px;min-height:var(--review-row-height, 160px);justify-content:flex-start}.page-number__label{font-size:13px;font-weight:600;color:#1f2937}.page-number__range{font-size:12px;color:#64748b}.review-layout{display:flex;gap:24px;align-items:flex-start}.review-main{flex:1 1 0;min-width:0}.review-main__status{display:flex;justify-content:flex-start;margin-top:4px}.column-header{display:flex;align-items:center;gap:6px;font-weight:600;color:#1f2937;white-space:nowrap}.column-header__icon{font-size:14px;line-height:1}.column-header--structure,.column-header--assay{background:transparent!important;color:#1f2937}.column-header--id{min-width:200px;width:200px}.review-sidebar{flex:0 0 260px;display:flex;flex-direction:column;gap:16px;position:sticky;top:140px}.side-card{background:#fff;border-radius:16px;border:1px solid rgba(148,163,184,.18);box-shadow:0 18px 36px #0f172a14;padding:20px;display:flex;flex-direction:column;gap:14px}.side-card__title{margin:0;font-size:16px;font-weight:700;color:#111827}.side-card__body{margin:0;font-size:13px;color:#4b5563;line-height:1.5}.side-card__button{display:inline-flex;width:100%;justify-content:center;font-weight:600}@media (max-width: 1024px){.table-wrapper{padding:16px}.table-wrapper table{min-width:660px}.image-thumb--compact img{width:112px;height:84px}}@media (max-width: 768px){.table-wrapper{padding:12px}.table-wrapper table{min-width:520px}.table-wrapper td:first-child{min-width:0}.review-layout{flex-direction:column}.review-sidebar{position:static;width:100%}}.status-banner{display:flex;align-items:center;justify-content:space-between;background:#4f46e51a;border:1px solid rgba(79,70,229,.18);border-radius:8px;padding:10px 16px;margin-top:12px}.status-banner span{font-weight:500}.tag{display:inline-flex;align-items:center;padding:2px 8px;border-radius:999px;background:#4338ca1a;color:#312e81;font-size:12px;font-weight:600}.flex-row{display:flex;align-items:center;gap:12px}.flex-gap{display:flex;gap:12px;flex-wrap:wrap}.badge{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:999px;font-size:12px;font-weight:600}.badge-structure{background:#4338ca2e;color:#312e81}.badge-assay{background:#7c3aed33;color:#5b21b6}.card{background:#fff;border-radius:12px;border:1px solid rgba(148,163,184,.2);padding:16px}.selector-layout{position:relative;display:flex;align-items:flex-start;gap:24px;width:100%;min-width:0}.selector-toolbar{display:flex;flex-direction:column;gap:16px;position:sticky;top:140px;flex:0 0 260px;width:260px;background:#fff;border:1px solid rgba(79,70,229,.16);border-radius:14px;padding:18px 18px 20px;box-shadow:0 18px 38px #2b25822e;max-height:calc(100vh - 180px);overflow-y:auto;overflow-x:hidden;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.selector-toolbar--structure{border-top:4px solid rgba(67,56,202,.45);background:#4338ca29}.selector-toolbar--assay{border-top:4px solid rgba(124,58,237,.5);background:#7c3aed29}.selector-gallery{flex:1 1 auto;width:100%;min-width:0}.selector-toolbar__header{display:flex;align-items:center;gap:12px;padding-bottom:6px;margin-bottom:12px;border-bottom:1px solid #eef1f8}.selector-toolbar__title{margin:0;font-size:16px;font-weight:600;color:#1f2937}.toolbar-icon{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:50%;background:#4f46e524;color:#4338ca}.toolbar-icon__glyph{width:18px;height:18px;display:block}.selector-toolbar--structure .toolbar-icon{background:#4338ca47;color:#1e1b4b}.selector-toolbar--assay .toolbar-icon{background:#7c3aed4d;color:#4c1d95}.selector-fields{display:grid;gap:18px}.selector-field{display:flex;flex-direction:column}.assay-name-editor{display:flex;gap:8px;align-items:center}.assay-name-editor input{flex:1}.input-hint{margin-top:6px;color:#94a3b8;font-size:12px}.assay-name-chip-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}.assay-name-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:#2563eb1a;color:#1d4ed8;font-size:13px;border:1px solid rgba(37,99,235,.25)}.assay-name-chip__remove{border:none;background:transparent;color:inherit;font-size:14px;cursor:pointer;line-height:1;padding:0}.assay-name-chip__remove:hover{color:#1e3a8a}.assay-name-empty{margin:10px 0 0;color:#94a3b8;font-size:13px}.selector-actions{display:flex;flex-direction:column;gap:12px;margin-top:8px}.selector-actions .primary{width:100%;justify-content:center}.selector-actions__group{display:flex;flex-direction:column;gap:6px;padding:14px 16px;border-radius:12px;border:1px solid rgba(79,70,229,.16);background:#4f46e50f}.selector-actions__group.structure{border-color:#4338ca38;background:#4338ca1f}.selector-actions__group.assay{border-color:#6366f138;background:#6366f11f}.selector-actions__caption{font-size:12px;color:#475569}.selector-actions__links{margin-top:4px}.selector-actions__links .small-btn{flex:1 0 auto}.callout{margin-top:20px;padding:16px;border-radius:12px;border:1px solid rgba(37,99,235,.35);background:#bfdbfe59;display:flex;flex-direction:column;gap:12px;max-width:520px}.callout__title{font-weight:700;color:#1d4ed8}.callout__body{color:#475569;margin:0}.selector-status{display:flex;flex-direction:column;gap:6px;padding:8px 12px;background:#f1f5ff;border-radius:10px;border:1px solid #d1dcff;font-size:13px;color:#1f6feb}.selector-actions__hint{color:#94a3b8;font-size:12px}.gallery-grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}.page-card{position:relative;border-radius:12px;border:1px solid rgba(148,163,184,.18);background:#fff;color:#1e293b;overflow:hidden;display:flex;flex-direction:column;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease;box-shadow:0 2px 10px #0f172a14}.page-card:hover{transform:translateY(-2px);box-shadow:0 6px 18px #0f172a1f}.page-card.structure-selected{border-color:#4338ca;box-shadow:0 10px 26px #4338ca4d}.page-card.assay-selected{border-color:#a855f7;box-shadow:0 10px 26px #a855f74d}.page-card.structure-selected.assay-selected{border-color:#4c1d95;box-shadow:0 12px 30px #4c1d9557}.page-card.active-mode-structure{box-shadow:0 12px 28px #4338ca47}.page-card.active-mode-assay{box-shadow:0 12px 28px #a855f747}.page-card__magnify{position:absolute;top:10px;right:10px;z-index:2}.magnify-btn{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:999px;border:1px solid rgba(148,163,184,.28);background:#fffffff0;font-size:18px;box-shadow:0 3px 8px #0f172a1f;cursor:pointer}.magnify-btn:hover{border-color:#1f6feb}.page-card__body{flex:1;display:flex;align-items:center;justify-content:center;padding:16px;background:#f8fafc;min-height:220px}.page-card__body img{width:100%;height:auto;display:block;border-radius:10px;box-shadow:0 4px 12px #0f172a1f;background:#fff}.page-card__placeholder{width:100%;min-height:160px;border-radius:10px;display:flex;align-items:center;justify-content:center;color:#64748b;border:1px dashed rgba(148,163,184,.34);background:#f1f5f9a6;font-weight:500}.page-card__footer{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;font-weight:600;font-size:14px}.page-card__label{flex:1;text-align:center;font-size:15px}.badge-structure{background:#4338ca38;color:#292168}.badge-assay{background:#6366f12e;color:#2e26a6}.upload-progress{margin-top:12px;display:flex;flex-direction:column;gap:6px}.upload-progress__bar{position:relative;width:100%;height:8px;border-radius:999px;background:#e0e7ff;overflow:hidden}.upload-progress__bar span{position:absolute;top:0;right:0;bottom:0;left:0;background:linear-gradient(135deg,#2563eb,#7c3aed);border-radius:999px;transition:width .2s ease}.upload-progress__label{font-size:13px;color:#475569;font-weight:500}label{font-weight:600;display:block;margin-bottom:6px}textarea{min-height:100px}.progress-bar{position:relative;height:8px;background:#e0e7ff;border-radius:999px;overflow:hidden}.progress-bar.slim{height:6px;background:#2563eb26}.progress-bar span{position:absolute;top:0;left:0;bottom:0;border-radius:999px;background:linear-gradient(135deg,#2563eb,#7c3aed)}.table-actions{display:flex;gap:12px;margin-top:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}.table-actions__group{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-left:auto}.table-actions__status{font-size:13px;color:#475569;display:inline-flex;align-items:center;gap:6px}.table-actions__status--pending,.table-actions__status--saving{color:#4338ca}.table-actions__status--saved{color:#047857}.table-actions__status--error{color:#b91c1c}.table-actions__status:before{content:"";display:inline-block;width:8px;height:8px;border-radius:50%;background:#94a3b8}.table-actions__status--pending:before,.table-actions__status--saving:before{background:#6366f1}.table-actions__status--saved:before{background:#10b981}.table-actions__status--error:before{background:#ef4444}.small-btn{padding:6px 10px;border-radius:6px;border:1px solid #cbd5f5;background:#fff;font-size:13px}.small-btn.add-btn{background:linear-gradient(135deg,#4338ca,#4c51bf);color:#fff;border-color:transparent;font-weight:600}.small-btn.add-btn:disabled{opacity:.6;cursor:not-allowed}.small-btn.subtle{background:#94a3b81a;border-color:#94a3b84d;color:#64748b}.small-btn.subtle:hover{background:#94a3b82e}img.segment-preview{max-width:220px;border-radius:8px;box-shadow:0 10px 24px #0f172a40}.magnify-preview{max-width:min(100%,1024px);max-height:80vh;border-radius:12px;box-shadow:0 18px 42px #0f172a40}.image-thumb{border:none;padding:0;background:transparent;cursor:zoom-in;border-radius:12px;overflow:hidden;box-shadow:0 12px 28px #0f172a2e;display:inline-block}.image-thumb img{display:block;width:160px;height:120px;object-fit:contain;background:#fff}.image-thumb:hover{box-shadow:0 16px 32px #0f172a38}.muted{color:#94a3b8;font-size:13px}.smiles-chip{font-family:Consolas,SFMono-Regular,ui-monospace,monospace;background:#f1f5f9;border:1px solid #cbd5f5;border-radius:8px;padding:6px 10px;font-size:13px;color:#1e293b;cursor:pointer}.smiles-chip:hover:not(:disabled){background:#e0f2fe;border-color:#38bdf8}.smiles-chip:disabled{cursor:not-allowed;opacity:.6}.modal{position:fixed;top:0;right:0;bottom:0;left:0;background:#0f172a8a;display:flex;align-items:center;justify-content:center;padding:24px;z-index:1000}.modal-content{background:#fff;border-radius:10px;max-width:95vw;max-height:90vh;overflow:auto;padding:16px}.floating-layer{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:1200}.floating-layer--structure{z-index:1350}.floating-layer__backdrop{position:absolute;top:0;right:0;bottom:0;left:0;background:#0f172a00;border:none;padding:0;margin:0;cursor:default;pointer-events:auto}.floating-panel{position:absolute;min-width:min(320px,calc(100vw - 96px));max-width:min(360px,calc(100vw - 48px));background:#fff;border-radius:14px;box-shadow:0 24px 52px #0f172a40;padding:12px 16px 16px;border:1px solid rgba(148,163,184,.28);cursor:default;z-index:1201;pointer-events:auto}.floating-panel--compact{min-width:min(320px,calc(100vw - 64px))}.floating-panel__handle{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:-12px -16px 12px;padding:12px 16px;border-radius:14px 14px 0 0;background:linear-gradient(135deg,#4f46e524,#3b82f62e);color:#1e1b4b;font-weight:600;cursor:grab;-webkit-user-select:none;user-select:none}.floating-panel__handle:active{cursor:grabbing}.floating-panel__title{font-size:13px;font-weight:600}.floating-panel__hint{font-size:11px;font-weight:500;color:#4b5563}.floating-panel__close{border:none;background:transparent;color:#1f2937;font-size:16px;line-height:1;padding:4px;border-radius:6px;cursor:pointer}.floating-panel__close:hover{background:#4f46e529}.floating-panel__body{display:flex;flex-direction:column;gap:12px}.floating-panel__footer{display:flex;gap:12px;flex-wrap:wrap}.floating-panel__resize-handle{position:absolute;right:0;bottom:0;width:18px;height:18px;cursor:nwse-resize;background:linear-gradient(135deg,#3b82f640,#4f46e573);clip-path:polygon(100% 0,100% 100%,0 100%)}.floating-panel__resize-handle:after{content:"";position:absolute;right:4px;bottom:4px;width:10px;height:10px;border-right:2px solid rgba(79,70,229,.8);border-bottom:2px solid rgba(79,70,229,.8)}.floating-panel__field{display:flex;flex-direction:column;gap:6px;font-size:13px;color:#475569}.floating-panel__field input{padding:6px 10px;border-radius:8px;border:1px solid rgba(148,163,184,.45);font-size:13px}.floating-panel__field-label{font-weight:600;color:#1f2937}.floating-panel__note{font-size:11px;color:#64748b}.modal-content.wide{max-width:1200px;width:min(1120px,95vw)}.modal-content img{max-width:100%;height:auto;max-height:80vh;display:block}.ocl-editor-container{width:100%;min-height:420px;border:1px solid #cbd5f5;border-radius:12px;overflow:hidden;background:#f8fafc}.modal-spinner{display:flex;flex-direction:column;align-items:center;gap:12px;padding:40px 20px;color:#475569}.spinner{width:36px;height:36px;border-radius:50%;border:4px solid rgba(37,99,235,.25);border-top-color:#2563eb;animation:spin .8s linear infinite}.scroll-top{position:fixed;bottom:28px;right:32px;width:60px;height:60px;border-radius:50%;border:none;background:linear-gradient(135deg,#4338ca,#7c3aed);color:#fff;box-shadow:0 18px 34px #4338ca4d;display:inline-flex;align-items:center;justify-content:center;transition:transform .2s ease,box-shadow .2s ease;z-index:2000}.scroll-top:hover{transform:translateY(-3px);box-shadow:0 22px 38px #4338ca52}.scroll-top__icon{width:26px;height:26px}@keyframes spin{to{transform:rotate(360deg)}}body.no-scroll{overflow:hidden}@media (max-width: 1180px){.selector-layout{flex-direction:column;gap:16px}.selector-toolbar{position:static;width:100%;flex:none;margin-top:16px;border-radius:12px;box-shadow:0 8px 22px #2b25822e;max-height:none;overflow:visible}}
